---
title: "ุญู ูุดฺฉู sudo: unable to resolve host ุฏุฑ ูููฺฉุณ โ ุฑุงูููุง ฺฉุงูู ู ฺฏุงูโุจูโฺฏุงู"
date: "2026-01-30"
tags: ["tutorial", "knowledge-base", "linux", "ubuntu", "system-administration"]
language: "fa"
source: "UserโAI conversations and files"
---

# ุญู ูุดฺฉู sudo: unable to resolve host ุฏุฑ ูููฺฉุณ โ ุฑุงูููุง ฺฉุงูู ู ฺฏุงูโุจูโฺฏุงู

ุงู ุขููุฒุด ุจู ุจุฑุฑุณ ฺฉ ุงุฒ ุฎุทุงูุง ุฑุงุฌ ุฏุฑ ุณุณุชูโูุง ูููฺฉุณ ูุงููุฏ ุงูุจููุชู ุง ุฏุจุงู ูโูพุฑุฏุงุฒุฏ. ุงฺฏุฑ ุจุง ูพุบุงู "sudo: unable to resolve host" ููุงุฌู ุดุฏูโุงุฏุ ุงู ูุดฺฉู ูุนูููุงู ุจู ุฏูู ุนุฏู ุชุนุฑู hostname ุณุณุชู ุฏุฑ ูุงู /etc/hosts ุงุฌุงุฏ ูโุดูุฏ. ุฏุฑ ุงู ุฑุงูููุงุ ูุดฺฉู ุฑุง ฺฏุงูโุจูโฺฏุงู ุญู ูโฺฉููุ ุฏูุงู ุขู ุฑุง ุชูุถุญ ูโุฏูู ู ฺฉ ุงุณฺฉุฑูพุช ููุดููุฏ ุจุฑุง ุชูุธู ุฎูุฏฺฉุงุฑ ุงุฑุงุฆู ูโุฏูู.

## ูุดฺฉู ู ุนูุงุฆู

ููฺฏุงู ุงุฌุฑุง ุฏุณุชูุฑ sudoุ ููฺฉู ุงุณุช ุจุง ุฎุทุง ูุงููุฏ ุฒุฑ ุฑูุจุฑู ุดูุฏ:

```
sudo: unable to resolve host toronto
```

ุงู ุฎุทุง ูุดุงูโุฏููุฏู ุขู ุงุณุช ฺฉู ุณุณุชู ููโุชูุงูุฏ hostname (ูุงู ูุฒุจุงู) ุฑุง ุจู ุขุฏุฑุณ IP ูุญู ูฺฏุงุดุช ฺฉูุฏ. hostname ุณุณุชู ุดูุง (ูุซูุงู "toronto") ุจุงุฏ ุฏุฑ ูุงู /etc/hosts ุชุนุฑู ุดูุฏ ุชุง sudo ุจุชูุงูุฏ ุขู ุฑุง ุดูุงุณุง ฺฉูุฏ.

### ูพุดโูุงุฒูุง ู ูุฑุถุงุช

- ุฏุณุชุฑุณ root ุง sudo ุจู ุณุณุชู.
- ุขุดูุง ุงููู ุจุง ุฎุท ูุฑูุงู ูููฺฉุณ.
- ุณุณุชู ุนุงูู: ุงูุจููุชูุ ุฏุจุงู ุง ุชูุฒุนโูุง ูุดุงุจู.
- ุงุจุฒุงุฑูุง ูุงุฒู: nano (ูุฑุงุดฺฏุฑ ูุชู) ุง ูุฑ ูุฑุงุดฺฏุฑ ุฏฺฏุฑ.

## ุฑุงูโุญู ุงุตู ฺฏุงูโุจูโฺฏุงู

ุงู ุฑูุด ุฏุณุช ุณุงุฏูโุชุฑู ุฑุงู ุจุฑุง ุญู ูุดฺฉู ุงุณุช ู ุชููุง ฺูุฏ ุฏููู ุฒูุงู ูโุจุฑุฏ.

1. hostname ูุนู ุณุณุชู ุฑุง ุจุฑุฑุณ ฺฉูุฏ:

   ```bash
   hostname
   ```

   ุฎุฑูุฌ ุจุงุฏ ูุงู ูุฒุจุงู ุดูุง (ูุซูุงู "toronto") ุฑุง ูุดุงู ุฏูุฏ.

2. ูุงู /etc/hosts ุฑุง ุจุงุฒ ฺฉูุฏ. ุงฺฏุฑ sudo ฺฉุงุฑ ููโฺฉูุฏุ ูุณุชููุงู ุจุง root ูุฑุงุด ฺฉูุฏ:

   ```bash
   nano /etc/hosts
   ```

3. ุฎุท ุฒุฑ ุฑุง ุงุถุงูู ุง ุงุตูุงุญ ฺฉูุฏ:

   ```
   127.0.1.1   toronto
   ```

   ุงฺฏุฑ ูุงู ฺุฒ ุดุจู ุฒุฑ ุฏุงุฑุฏ:

   ```
   127.0.0.1   localhost
   ```

   ุฎุท ุฌุฏุฏ ุฑุง ุฒุฑ ุขู ุงุถุงูู ฺฉูุฏ. ุงฺฏุฑ ุฎุท ูุงููุฏ "127.0.1.1 srv8695028750.bitcommand.net srv8695028750" ูุฌูุฏ ุฏุงุฑุฏุ ุขู ุฑุง ุจุง ุฎุท ููู ุฌุงฺฏุฒู ฺฉูุฏ.

4. ูุงู ุฑุง ุฐุฎุฑู ฺฉูุฏ (ุฏุฑ nano: Ctrl + Oุ Enterุ ุณูพุณ Ctrl + X).

5. ุชุบุฑุงุช ุฑุง ุชุณุช ฺฉูุฏ:

   ```bash
   sudo ls
   ```

   ุงฺฏุฑ ุฎุทุง ุธุงูุฑ ูุดูุฏุ ูุดฺฉู ุญู ุดุฏู ุงุณุช.

## ุนุจโุงุจ ู ุฎุทุงูุง ุฑุงุฌ

- **ุงฺฏุฑ sudo ููฺูุงู ุฎุทุง ูโุฏูุฏ:** ูุทูุฆู ุดูุฏ hostname ุฏููุงู ุจุง ุฎุฑูุฌ ุฏุณุชูุฑ hostname ูุทุงุจูุช ุฏุงุฑุฏ. ุฎุฑูุฌ ุฒุฑ ุฑุง ุจุฑุฑุณ ฺฉูุฏ:

  ```bash
  hostname
  cat /etc/hosts
  ```

- **ุชุบุฑ hostname ุณุณุชู:** ุงฺฏุฑ ูุงุฒ ุจู ุชุบุฑ hostname ุฏุงุฑุฏ:

  ```bash
  sudo hostnamectl set-hostname new-hostname
  ```

- **ูุดฺฉูุงุช ุฑุงุฌ ุฏฺฏุฑ:** ุงฺฏุฑ ุณุณุชู VPS ุงุณุชุ ุงุฑุงุฆูโุฏููุฏู ููฺฉู ุงุณุช hostname ูพุดโูุฑุถ ุชูุธู ฺฉุฑุฏู ุจุงุดุฏ. ูุงู hosts ุฑุง ูพุดุชุจุงู ุจฺฏุฑุฏ ูุจู ุงุฒ ุชุบุฑุงุช.

## ุฑูุดโูุง ุฌุงฺฏุฒู

<details>
<summary>ุฑูุดโูุง ุฌุงฺฏุฒู ู ูฺฉูู</summary>

#### ุฑูุด 1 โ ุงุณุชูุงุฏู ุงุฒ FQDN (Fully Qualified Domain Name)
- **ุฒูุงู ุงุณุชูุงุฏู:** ููุช ูุงุฒ ุจู ูุงู ุฏุงููู ฺฉุงูู ุฏุงุฑุฏ (ูุซูุงู ุฏุฑ ุดุจฺฉูโูุง ุจุฒุฑฺฏ).
- **ฺฏุงูโูุง:**
  1. hostname ุฑุง ุจุฑุฑุณ ฺฉูุฏ.
  2. ุฏุฑ /etc/hosts ุงุถุงูู ฺฉูุฏ: `127.0.1.1 toronto.localdomain toronto`.
- **ูุฒุงุง/ูุนุงุจ:** ุงูุฒุงุด ุณุงุฒฺฏุงุฑ ุฏุฑ ุดุจฺฉูโูุงุ ุงูุง ูพฺุฏูโุชุฑ ุจุฑุง ฺฉุงุฑุจุฑุงู ุณุงุฏู.

#### ุฑูุด 2 โ ุชูุธู ุจุง cloud-init (ุจุฑุง ุณุฑูุฑูุง ุงุจุฑ)
- **ุฒูุงู ุงุณุชูุงุฏู:** ุฏุฑ ูุญุทโูุง ุงุจุฑ ูุงููุฏ AWS ุง DigitalOcean.
- **ฺฏุงูโูุง:** ูุงู /etc/cloud/cloud.cfg ุฑุง ูุฑุงุด ฺฉูุฏ ู hostname ุฑุง ุชูุธู ฺฉูุฏ.
- **ูุฒุงุง/ูุนุงุจ:** ุฎูุฏฺฉุงุฑุณุงุฒุ ูุงุฒ ุจู ุฏุงูุด ุงุจุฑ.

</details>

## ูฺฉุงุช ู ุจูุชุฑู ุดููโูุง

- ููุดู ูุจู ุงุฒ ูุฑุงุด ูุงูโูุง ุณุณุชู ูุงููุฏ /etc/hostsุ ูพุดุชุจุงู ุจฺฏุฑุฏ: `cp /etc/hosts /etc/hosts.backup`.
- ุจุฑุง ุงููุชุ ุงุฒ ูุฑุงุดฺฏุฑูุง ุณุงุฏู ูุงููุฏ nano ุงุณุชูุงุฏู ฺฉูุฏ ุชุง ุงุดุชุจุงูุงุช ฺฉูุชุฑ ุฑุฎ ุฏูุฏ.
- ุงฺฏุฑ ุณุณุชู ุดูุง VPS ุงุณุชุ ุชูุธูุงุช ุงุฑุงุฆูโุฏููุฏู ุฑุง ุจุฑุฑุณ ฺฉูุฏ ุชุง hostname ูพุดโูุฑุถ ุฑุง override ูฺฉูุฏ.
- ุจุฑุง ุชุณุช ฺฉุงููุ ุณุณุชู ุฑุง ุฑุจูุช ฺฉูุฏ ู sudo ุฑุง ูุฌุฏุฏุงู ุงูุชุญุงู ฺฉูุฏ.

## ุงุณฺฉุฑูพุช ููุดููุฏ ุจุฑุง ุชูุธู hostname

ุจุฑุง ุชูุธู ุฎูุฏฺฉุงุฑ ู ุงููุ ุงุฒ ุงู ุงุณฺฉุฑูพุช bash ุงุณุชูุงุฏู ฺฉูุฏ. ุงู ุงุณฺฉุฑูพุช hostname ุฑุง ูโูพุฑุณุฏุ ุขู ุฑุง ุชูุธู ูโฺฉูุฏ ู ูุงู hosts ุฑุง ุจูโุฑูุฒุฑุณุงู ูโฺฉูุฏ.

### ุงุณฺฉุฑูพุช: set-hostname.sh

```bash
#!/bin/bash

# Check root
if [ "$EUID" -ne 0 ]; then
  echo "โ Please run as root"
  exit 1
fi

echo "๐ง Linux Hostname Setup Script"
echo "-----------------------------"

read -rp "๐ Enter new hostname: " NEW_HOSTNAME

if [[ -z "$NEW_HOSTNAME" ]]; then
  echo "โ Hostname cannot be empty"
  exit 1
fi

echo "โ Setting hostname to: $NEW_HOSTNAME"
hostnamectl set-hostname "$NEW_HOSTNAME"

HOSTS_FILE="/etc/hosts"
BACKUP="/etc/hosts.backup.$(date +%F_%T)"

echo "๐ฆ Backup hosts file: $BACKUP"
cp $HOSTS_FILE $BACKUP

# Remove old 127.0.1.1 lines
sed -i '/^127\.0\.1\.1/d' $HOSTS_FILE

# Ensure localhost exists
grep -q "^127.0.0.1" $HOSTS_FILE || echo "127.0.0.1 localhost" >> $HOSTS_FILE

# Add correct hostname mapping
echo "127.0.1.1 $NEW_HOSTNAME" >> $HOSTS_FILE

echo "๐ Restarting hostname service"
systemctl restart systemd-hostnamed 2>/dev/null

echo "โ Done!"
echo "๐ Current hostname:"
hostname
```

### ูุญูู ุงุฌุฑุง

1. ุงุณฺฉุฑูพุช ุฑุง ุฏุฑ ูุงู ุฐุฎุฑู ฺฉูุฏ: `nano set-hostname.sh`.
2. ูุฌูุฒ ุงุฌุฑุง ุจุฏูุฏ: `chmod +x set-hostname.sh`.
3. ุงุฌุฑุง ฺฉูุฏ: `./set-hostname.sh`.

ุงู ุงุณฺฉุฑูพุช ุจุฑุง ุชูุฒุนโูุง ูุจุชู ุจุฑ systemd ูุงููุฏ ุงูุจููุชู ููุงุณุจ ุงุณุช.

## ฺุฑุง ุงู ูุดฺฉู ุฑุฎ ูโุฏูุฏุ

ููฺฏุงู ูุตุจ ุง ุชุบุฑ hostnameุ ูุงู /etc/hosts ููฺฉู ุงุณุช ุจูโุฑูุฒุฑุณุงู ูุดูุฏ. sudo ุจุฑุง ุงููุชุ hostname ุฑุง resolve ูโฺฉูุฏ ู ุงฺฏุฑ ูููู ูุดูุฏุ ุฎุทุง ูโุฏูุฏ. ุงู ูุณุฆูู ุฏุฑ ุณุฑูุฑูุง VPS ุฑุงุฌ ุงุณุช ุฌุง ฺฉู ุงุฑุงุฆูโุฏููุฏู hostname ูููุช ุชูุธู ูโฺฉูุฏ.

## ููุถูุนุงุช ูุชูุฑูู ู ุงุฏุฏุงุดุชโูุง ูพุฑุงฺฉูุฏู

- ุงฺฏุฑ FQDN ูุงุฒ ุฏุงุฑุฏุ ุงุณฺฉุฑูพุช ุฑุง ุจุฑุง ูพุดุชุจุงู ุงุฒ ุขู ฺฏุณุชุฑุด ุฏูุฏ.
- ุจุฑุง ูุณุฎู ูพุดุฑูุชู ุงุณฺฉุฑูพุช (ุจุง auto-detect IP ุง cloud-init)ุ ูุธุฑ ุฏูุฏ.

## ุฎูุงุตู ู ฺฏุงูโูุง ุจุนุฏ

ุจุง ุงู ุฑุงูููุงุ ูุดฺฉู sudo ุฑุง ุจู ุฑุงุญุช ุญู ฺฉูุฏ. ุงฺฏุฑ ููฺูุงู ูุณุฆููโุง ุฏุงุดุชุฏุ ุฎุฑูุฌ hostname ู /etc/hosts ุฑุง ุจุฑุฑุณ ฺฉูุฏ. ฺฏุงู ุจุนุฏ: ุงุฏฺฏุฑ ุจุดุชุฑ ุฏุฑ ููุฑุฏ ูุฏุฑุช ุณุณุชู ูููฺฉุณ ุจุง ุฎูุงูุฏู ูุณุชูุฏุงุช ุฑุณู ุงูุจููุชู.

## ููุงุจุน

- [ูุณุชูุฏุงุช ุฑุณู hostnamectl](https://manpages.ubuntu.com/manpages/focal/man1/hostnamectl.1.html)
- [ุฑุงูููุง ูุงู /etc/hosts](https://linux.die.net/man/5/hosts)

Instructor: memarzade-dev | www.memarzade.dev  
Generated on: 2026-01-30 08:05